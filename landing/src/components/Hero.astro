---
// Hero section - Terminal Tabs showcase
---

<section class="min-h-screen flex items-center pt-24 pb-16 px-6">
  <div class="max-w-7xl mx-auto w-full">
    <!-- Grid: Text left, Demo right -->
    <div class="grid lg:grid-cols-[1fr_1.5fr] gap-12 lg:gap-16 items-center">

      <!-- Left: Content -->
      <div class="space-y-8 text-center lg:text-left">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-grov-accent-bg border border-grov-accent/20 rounded-full opacity-0 animate-fade-in">
          <span class="w-2 h-2 bg-grov-accent rounded-full animate-pulse"></span>
          <span class="font-mono text-xs text-grov-accent">Open Source AI Memory</span>
        </div>

        <!-- Headline -->
        <h1 class="text-hero-mobile md:text-hero text-grov-text leading-tight opacity-0 animate-fade-in-up animation-delay-100" style="font-family: var(--font-display);">
          Sync Reasoning Across<br />
          <span class="text-grov-accent">Your Entire Organization.</span>
        </h1>

        <!-- Subheadline -->
        <p class="text-subhead text-grov-text-secondary max-w-lg mx-auto lg:mx-0 opacity-0 animate-fade-in-up animation-delay-200">
          Grov captures reasoning, prevents drift, and preserves your prompt cache—slashing token costs while keeping your team in sync.
        </p>

        <!-- Pro badge -->
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-grov-surface border border-grov-border rounded-lg opacity-0 animate-fade-in-up animation-delay-300">
          <svg class="w-4 h-4 text-grov-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          <span class="font-mono text-xs text-grov-text-secondary">
            Pro includes API access — no external key needed
          </span>
        </div>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start opacity-0 animate-fade-in-up animation-delay-400">
          <a href="#install" class="btn-primary">
            Initialize Memory
          </a>
          <a href="#demo" class="btn-secondary">
            Watch Demo
          </a>
        </div>

        <!-- Trust signals -->
        <div class="flex items-center gap-6 justify-center lg:justify-start pt-4 opacity-0 animate-fade-in animation-delay-500 flex-wrap">
          <a
            href="https://github.com/TonyStef/Grov"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center gap-2 text-sm text-grov-text-muted hover:text-grov-text transition-colors"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            <span id="github-stars" class="font-mono">-- stars</span>
          </a>
          <a
            href="https://www.npmjs.com/package/grov"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center gap-2 text-sm text-grov-text-muted hover:text-grov-text transition-colors"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"/>
            </svg>
            <span id="npm-downloads" class="font-mono">-- downloads</span>
          </a>
          <a
            href="https://www.producthunt.com/products/grov?utm_source=badge-featured&utm_medium=badge&utm_campaign=badge-grov"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center"
          >
            <img
              src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=1051166&theme=dark&t=1765984839313"
              alt="Grov - Featured on Product Hunt"
              width="180"
              height="40"
              class="opacity-80 hover:opacity-100 transition-opacity"
              loading="lazy"
            />
          </a>
        </div>
      </div>

      <!-- Right: Terminal Tabs Showcase -->
      <div class="relative opacity-0 animate-fade-in-up animation-delay-300" id="demo">
        <!-- Terminal frame -->
        <div class="rounded-xl border border-grov-border overflow-hidden shadow-2xl bg-grov-surface">
          <!-- Terminal header with tabs -->
          <div class="px-4 py-3 flex items-center gap-4 border-b border-grov-border bg-grov-surface-elevated">
            <!-- Traffic lights -->
            <div class="flex gap-2 shrink-0">
              <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
              <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
              <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
            </div>

            <!-- Tab bar -->
            <div class="flex gap-1 overflow-x-auto scrollbar-hide">
              <button
                data-tab="video"
                class="tab-btn active group flex items-center gap-2 px-3 py-1.5 rounded-md font-mono text-xs transition-all"
              >
                <span class="tab-key">1</span>
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>Demo</span>
              </button>

              <button
                data-tab="dashboard"
                class="tab-btn group flex items-center gap-2 px-3 py-1.5 rounded-md font-mono text-xs transition-all"
              >
                <span class="tab-key">2</span>
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                </svg>
                <span>Dashboard</span>
              </button>

              <button
                data-tab="cli"
                class="tab-btn group flex items-center gap-2 px-3 py-1.5 rounded-md font-mono text-xs transition-all"
              >
                <span class="tab-key">3</span>
                <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
                <span>CLI</span>
              </button>
            </div>

            <!-- Keyboard hint -->
            <div class="hidden sm:flex items-center gap-1 ml-auto text-grov-text-muted">
              <span class="font-mono text-[10px] opacity-60">Press</span>
              <kbd class="px-1.5 py-0.5 bg-grov-black/50 border border-grov-border rounded text-[10px] font-mono">1</kbd>
              <kbd class="px-1.5 py-0.5 bg-grov-black/50 border border-grov-border rounded text-[10px] font-mono">2</kbd>
              <kbd class="px-1.5 py-0.5 bg-grov-black/50 border border-grov-border rounded text-[10px] font-mono">3</kbd>
            </div>
          </div>

          <!-- Content panels -->
          <div class="relative bg-grov-black" style="min-height: 420px;">
            <!-- Video Panel -->
            <div data-panel="video" class="panel active absolute inset-0">
              <div class="aspect-video h-full">
                <iframe
                  src="https://www.youtube-nocookie.com/embed/eSXbT8yt5pw?rel=0&modestbranding=1&showinfo=0"
                  title="Grov Demo - AI Memory for Your Organization"
                  class="w-full h-full"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                  allowfullscreen
                  loading="lazy"
                ></iframe>
              </div>
            </div>

            <!-- Dashboard Panel -->
            <div data-panel="dashboard" class="panel absolute inset-0 opacity-0 pointer-events-none bg-grov-black">
              <a
                href="/images/dashboard-showcase.jpeg"
                target="_blank"
                class="block h-full overflow-hidden group flex items-center justify-center"
              >
                <img
                  src="/images/dashboard-showcase.jpeg"
                  alt="Grov Dashboard - Search and explore your AI memories with reasoning traces"
                  class="w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500"
                  loading="lazy"
                />
                <!-- Hover overlay -->
                <div class="absolute inset-0 bg-gradient-to-t from-grov-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-6">
                  <span class="font-mono text-sm text-grov-text flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    View full size
                  </span>
                </div>
              </a>
            </div>

            <!-- CLI Panel -->
            <div data-panel="cli" class="panel absolute inset-0 opacity-0 pointer-events-none bg-grov-black">
              <a
                href="/images/cli-showcase.jpeg"
                target="_blank"
                class="block h-full overflow-hidden group flex items-center justify-center"
              >
                <img
                  src="/images/cli-showcase.jpeg"
                  alt="Grov CLI - Capture reasoning in real-time with interactive prompts"
                  class="w-full h-full object-contain group-hover:scale-[1.02] transition-transform duration-500"
                  loading="lazy"
                />
                <!-- Hover overlay -->
                <div class="absolute inset-0 bg-gradient-to-t from-grov-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-6">
                  <span class="font-mono text-sm text-grov-text flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                    </svg>
                    View full size
                  </span>
                </div>
              </a>
            </div>
          </div>

          <!-- Bottom status bar -->
          <div class="px-4 py-2 border-t border-grov-border bg-grov-surface-elevated flex items-center justify-between">
            <span class="font-mono text-[10px] text-grov-text-muted" id="panel-status">
              ▶ Watch the 2-minute demo
            </span>
            <div class="flex items-center gap-3">
              <span class="flex items-center gap-1.5 font-mono text-[10px] text-grov-text-muted">
                <span class="w-1.5 h-1.5 bg-grov-accent rounded-full animate-pulse"></span>
                grov v0.5.4
              </span>
            </div>
          </div>
        </div>

        <!-- Subtle glow effect -->
        <div class="absolute -inset-8 bg-grov-accent/5 blur-3xl -z-10 rounded-full"></div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Tab button styles */
  .tab-btn {
    color: var(--color-grov-text-muted);
    background: transparent;
  }

  .tab-btn:hover {
    color: var(--color-grov-text-secondary);
    background: rgba(255, 255, 255, 0.03);
  }

  .tab-btn.active {
    color: var(--color-grov-accent);
    background: rgba(34, 197, 94, 0.1);
  }

  /* Keyboard hint in tabs */
  .tab-key {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    font-size: 9px;
    border-radius: 3px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--color-grov-border);
    color: var(--color-grov-text-muted);
    transition: all 0.15s ease;
  }

  .tab-btn.active .tab-key {
    background: rgba(34, 197, 94, 0.2);
    border-color: var(--color-grov-accent);
    color: var(--color-grov-accent);
  }

  /* Panel transitions */
  .panel {
    transition: opacity 0.3s ease, transform 0.3s ease;
    transform: translateX(8px);
  }

  .panel.active {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
  }

  /* Hide scrollbar for tabs */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>

<script>
  // Tab switching logic
  const tabs = document.querySelectorAll('.tab-btn');
  const panels = document.querySelectorAll('.panel');
  const statusEl = document.getElementById('panel-status');

  const statusMessages: Record<string, string> = {
    video: '▶ Watch the 2-minute demo',
    dashboard: '◆ Explore reasoning traces & decisions',
    cli: '❯ Real-time capture in your terminal'
  };

  function switchTab(tabName: string) {
    tabs.forEach(tab => {
      const isActive = tab.getAttribute('data-tab') === tabName;
      tab.classList.toggle('active', isActive);
    });

    panels.forEach(panel => {
      const isActive = panel.getAttribute('data-panel') === tabName;
      panel.classList.toggle('active', isActive);
    });

    if (statusEl) {
      statusEl.textContent = statusMessages[tabName] || '';
    }
  }

  // Click handlers
  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const tabName = tab.getAttribute('data-tab');
      if (tabName) switchTab(tabName);
    });
  });

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    // Don't trigger if user is typing in an input
    if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) return;

    const keyMap: Record<string, string> = {
      '1': 'video',
      '2': 'dashboard',
      '3': 'cli'
    };

    const tabName = keyMap[e.key];
    if (tabName) {
      e.preventDefault();
      switchTab(tabName);
    }
  });

  // Fetch real GitHub stars and npm downloads
  async function fetchStats() {
    const starsEl = document.getElementById('github-stars');
    const downloadsEl = document.getElementById('npm-downloads');

    // Fetch GitHub stars
    try {
      const ghRes = await fetch('https://api.github.com/repos/TonyStef/Grov');
      if (ghRes.ok) {
        const ghData = await ghRes.json();
        const stars = ghData.stargazers_count;
        if (starsEl) starsEl.textContent = `${stars} stars`;
      }
    } catch (e) {
      console.error('Failed to fetch GitHub stars:', e);
    }

    // Fetch npm downloads (last month)
    try {
      const npmRes = await fetch('https://api.npmjs.org/downloads/point/last-month/grov');
      if (npmRes.ok) {
        const npmData = await npmRes.json();
        const downloads = npmData.downloads;
        if (downloadsEl) {
          const formatted = downloads >= 1000
            ? `${(downloads / 1000).toFixed(1).replace(/\.0$/, '')}k`
            : downloads.toString();
          downloadsEl.textContent = `${formatted} downloads`;
        }
      }
    } catch (e) {
      console.error('Failed to fetch npm downloads:', e);
    }
  }

  fetchStats();
</script>
