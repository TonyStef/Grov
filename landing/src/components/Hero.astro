---
// Hero section - Two-column layout with GIF showcase
---

<section class="min-h-screen flex items-center pt-24 pb-16 px-6">
  <div class="max-w-7xl mx-auto w-full">
    <!-- Grid: Text left, Demo right - Demo is larger -->
    <div class="grid lg:grid-cols-[1fr_1.4fr] gap-12 lg:gap-12 items-center">

      <!-- Left: Content -->
      <div class="space-y-8 text-center lg:text-left">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-grov-accent-bg border border-grov-accent/20 rounded-full opacity-0 animate-fade-in">
          <span class="w-2 h-2 bg-grov-accent rounded-full animate-pulse"></span>
          <span class="font-mono text-xs text-grov-accent">Open Source AI Memory</span>
        </div>

        <!-- Headline -->
        <h1 class="text-hero-mobile md:text-hero font-bold text-grov-text leading-tight opacity-0 animate-fade-in-up animation-delay-100">
          Your AI<br />
          <span class="text-grov-accent">Never Forgets.</span>
        </h1>

        <!-- Subheadline -->
        <p class="text-subhead text-grov-text-secondary max-w-lg mx-auto lg:mx-0 opacity-0 animate-fade-in-up animation-delay-200">
          Stop watching Claude re-explore your codebase every session.
          Grov captures reasoning and injects context automatically.
        </p>

        <!-- Pro badge -->
        <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-grov-surface border border-grov-border rounded-lg opacity-0 animate-fade-in-up animation-delay-300">
          <svg class="w-4 h-4 text-grov-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          <span class="font-mono text-xs text-grov-text-secondary">
            Pro includes API access â€” no external key needed
          </span>
        </div>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start opacity-0 animate-fade-in-up animation-delay-400">
          <a href="#install" class="btn-primary">
            Get Started Free
          </a>
          <a href="#demo" class="btn-secondary">
            Watch Demo
          </a>
        </div>

        <!-- Trust signals -->
        <div class="flex items-center gap-6 justify-center lg:justify-start pt-4 opacity-0 animate-fade-in animation-delay-500">
          <a
            href="https://github.com/TonyStef/Grov"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center gap-2 text-sm text-grov-text-muted hover:text-grov-text transition-colors"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
            <span id="github-stars" class="font-mono">-- stars</span>
          </a>
          <a
            href="https://www.npmjs.com/package/grov"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center gap-2 text-sm text-grov-text-muted hover:text-grov-text transition-colors"
          >
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"/>
            </svg>
            <span id="npm-downloads" class="font-mono">-- downloads</span>
          </a>
        </div>
      </div>

      <!-- Right: GIF Demo -->
      <div class="relative opacity-0 animate-fade-in-up animation-delay-300">
        <!-- Terminal frame around GIF -->
        <div class="rounded-xl border border-grov-border overflow-hidden shadow-2xl bg-grov-surface">
          <!-- Terminal header -->
          <div class="px-4 py-3 flex items-center gap-3 border-b border-grov-border bg-grov-surface-elevated">
            <div class="flex gap-2">
              <div class="w-3 h-3 rounded-full bg-[#ff5f56]"></div>
              <div class="w-3 h-3 rounded-full bg-[#ffbd2e]"></div>
              <div class="w-3 h-3 rounded-full bg-[#27c93f]"></div>
            </div>
            <span class="ml-2 font-mono text-xs text-grov-text-muted">grov proxy</span>
          </div>

          <!-- GIF -->
          <div class="bg-grov-black">
            <img
              src="/demo.gif"
              alt="Grov in action - AI memory capture and injection"
              class="w-full"
              loading="eager"
            />
          </div>
        </div>

        <!-- Subtle glow effect behind terminal -->
        <div class="absolute -inset-8 bg-grov-accent/5 blur-3xl -z-10 rounded-full"></div>
      </div>
    </div>
  </div>
</section>

<script>
  // Fetch real GitHub stars and npm downloads
  async function fetchStats() {
    const starsEl = document.getElementById('github-stars');
    const downloadsEl = document.getElementById('npm-downloads');

    // Fetch GitHub stars
    try {
      const ghRes = await fetch('https://api.github.com/repos/TonyStef/Grov');
      if (ghRes.ok) {
        const ghData = await ghRes.json();
        const stars = ghData.stargazers_count;
        if (starsEl) starsEl.textContent = `${stars} stars`;
      }
    } catch (e) {
      console.error('Failed to fetch GitHub stars:', e);
    }

    // Fetch npm downloads (last month)
    try {
      const npmRes = await fetch('https://api.npmjs.org/downloads/point/last-month/grov');
      if (npmRes.ok) {
        const npmData = await npmRes.json();
        const downloads = npmData.downloads;
        if (downloadsEl) {
          // Format: 1234 -> "1.2k", 500 -> "500"
          const formatted = downloads >= 1000
            ? `${(downloads / 1000).toFixed(1).replace(/\.0$/, '')}k`
            : downloads.toString();
          downloadsEl.textContent = `${formatted} downloads`;
        }
      }
    } catch (e) {
      console.error('Failed to fetch npm downloads:', e);
    }
  }

  fetchStats();
</script>
